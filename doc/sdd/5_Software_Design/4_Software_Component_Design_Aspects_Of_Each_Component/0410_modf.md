### modf {#sec:component-modf}

\begin{sffamily}\small
	\begin{center}
		\begin{tabularx}{\dimexpr\textwidth-1\tabcolsep}{p{2.3cm}X}
			Interface       & \texttt{double modf(double value, double *iptr)} \newline
			with \texttt{iptr} referring to a pointer to a \texttt{double} value that will be used to return one part of the result of the procedure. \\ 
			
			Type & Procedure    \\ 
			
			Files & \texttt{libm/common/s\_modf.c}    \\ 
			
			Subordinates and Superiors &
			\raisebox{-1\height}{\includegraphics[]{./figure/Declaration-modf.png}}    \\ 
			
			Purpose & The \texttt{modf} function shall return the fractional portion of the input, and place the integer portion of the input to the out-pointer. \newline
			This component implements the following software requirements:
			\begin{compactitem}
				\item REQ-ML-1200
				\item REQ-ML-1201
				\item REQ-ML-1210
				\item REQ-ML-1211
			\end{compactitem}    \\ 
			
			References & \texttt{modff} \ref{sec:component-modff}    \\ 
		\end{tabularx}
	\end{center}
\end{sffamily}

#### Procedure Design

\begin{compactenum}
	\item All the following outputs (both return value and out-pointer) shall have the same sign as the input value.
	\item If the argument \texttt{iptr} is a NULL-pointer replace the pointer internally with a valid one. At the end place a NULL-pointer to the out-pointer regardless of what is otherwise stated at that branch. The return value remains unchanged.
	\item Return \texttt{NaN} to both outputs if the input value is \texttt{NaN}.
	\item Return a zero if the input value is infinite, and place the infinity to the out-pointer.
	\item If the exponent is < 20, the integral part of \texttt{value} is in the double's highword:
	\begin{compactenum}
		\item If the exponent is < 0, there is no integral part, return the input and place a zero to the out-pointer.
		\item If the input is integral, return a zero and place the input value to the out-pointer.
		\item Return the fractional part of the input and place the integral part to the out-pointer.
	\end{compactenum}
	\item If the exponent is > 51, there is no fractional part, return a zero and place the input value to the out-pointer.
	\item If the input is integral, return a zero and place the input value to the out-pointer.
	\item Return the fractional part of the input and place the integral part to the out-pointer.
\end{compactenum}

\begin{figure}[H]
	\begin{sffamily}\small
		\begin{center}
			\begin{tabularx}{\dimexpr\textwidth-1\tabcolsep}{|c|c||c|c|c|c|c|c|c|}
				\hline
				\multicolumn{2}{|c||}{$value$}                        & $-$Inf & $<0$ & $-0$ & $+0$ & $>0$            & $+$Inf & NaN \\ \hline \hline
				\multirow{2}{*}{$modf(value, *iptr)$} & $*iptr$       & $-$Inf & \multicolumn{4}{c|}{$value - fmod(value,1)$} & $+$Inf & \multirow{2}{*}{NaN} \\ \cline{2-8}
				\iffalse placeholder \fi          & Return value  & $-0$   & \multicolumn{4}{c|}{$fmod(value,1)$}     & $+0$   & \\ \hline
				
				\caption{Outputs of modf}\label{tab:modf}
			\end{tabularx}
		\end{center}
	\end{sffamily}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=0.9\textwidth]{./figure/Modf_Flowchart.pdf}
	\caption{Flowchart modf}
	\label{fig:flowchart-modf}
\end{figure}